---
en: f5628b6a3ab304fffd563bb59638f511e59744c1
lang: ru-RU
---

# Использование Vue в Markdown

## Ограничения доступа API браузера

Поскольку приложения VuePress визуализируются сервером в Node.js при создании статических сборок, любое использование Vue должно соответствовать [универсальным требованиям кода](https://ssr.vuejs.org/en/universal.html). Короче говоря, убедитесь, что доступ к API-интерфейсам браузера / DOM осуществляется только в хуках `beforeMount` или `mount`.

Если вы используете или демонстрируете компоненты, которые не являются безопасными для SSR (например, содержат пользовательские директивы), вы можете обернуть их встроенным компонентом `<ClientOnly>`:

``` md
<ClientOnly>
  <NonSSRFriendlyComponent/>
</ClientOnly>
```

Обратите внимание, что это не исправит компоненты или библиотеки, которые обращаются к API-интерфейсам браузера **при импорте**, чтобы использовать код, который предполагает импорт в браузерной среде, вам нужно динамически импортировать их в соответствующих хуках жизненного цикла:

``` vue
<script>
export default {
  mounted () {
    import('./lib-that-access-window-on-import').then(module => {
      // use code
    })
  }
}
</script>
```

## Шаблонизация

### Интерполирование

Каждый файл Markdown сначала генерируется в HTML, а затем передается, как компонент Vue в `vue-loader`. Это значит, что вы можете использовать интерполяцию в стиле Vue в тексте:

**Входные данные**

``` md
{{ 1 + 1 }}
```

**Вывод**

<div class="language-text"><pre><code>{{ 1 + 1 }}</code></pre></div>

### Директивы

Директивы также работают:

**Входные данные**

``` md
<span v-for="i in 3">{{ i }} </span>
```

**Вывод**

<div class="language-text"><pre><code><span v-for="i in 3">{{ i }} </span></code></pre></div>

### Доступ к данным сайта и страницы

Сгенерированный компонент не имеет собственных данных, но имеет доступ к [метаданным сайта](../theme/writing-a-theme.md#метаданные-сайта-и-страницы). Например:

**Входные данные**

``` md
{{ $page }}
```

**Вывод**

``` json
{
  "path": "/using-vue.html",
  "title": "Использование Vue в Markdown",
  "frontmatter": {}
}
```

## Изолирование

По умолчанию блоки изолированного кода автоматически заключаются в `v-pre`. Если вы хотите отображать необработанный или специфичный для Vue синтаксис внутри фрагментов встроенного кода или обычного текста, вам нужно заключить абзац в специальный контейнер `v-pre`:

**Входные данные**

``` md
::: v-pre
`{{ Это будет отображаться, как есть }}`
:::
```

**Вывод**

::: v-pre
`{{ Это будет отображаться, как есть }}`
:::

## Использование компонентов

Любые файлы `*.vue`, найденные в `.vuepress/components`, автоматически регистрируются, как [global](https://vuejs.org/v2/guide/components-registration.html#Global-Registration), [async](https://vuejs.org/v2/guide/components-dynamic-async.html#Async-Components) компоненты. Например:

```
.
└─ .vuepress
   └─ components
      ├─ demo-1.vue
      ├─ OtherComponent.vue
      └─ Foo
         └─ Bar.vue
```

Внутри любого файла Markdown вы можете напрямую использовать компоненты (имена берутся из имен файлов):

``` md
<demo-1/>
<OtherComponent/>
<Foo-Bar/>
```

<demo-1></demo-1>

<OtherComponent/>

<Foo-Bar/>

::: warning Важное замечание
Убедитесь, что имя пользовательского компонента содержит дефис или находится в PascalCase. В противном случае он будет рассматриваться как встроенный элемент и будет обернут внутри тега `<p>`, что приведет к ошибкам генерации, поскольку `<p>` не позволяет размещать внутри него блочные элементы.
:::

### Использование компонентов в заголовках

Вы можете использовать компоненты Vue в заголовках, но обратите внимание на разницу между следующими двумя способами:

| markdown | Выходной HTML | Разобранный заголовок |
|--------|-------------|----------------|
| <pre v-pre><code> # text &lt;Tag/&gt; </code></pre> | `<h1>text <Tag/></h1>` | `text` |
| <pre v-pre><code> # text \`&lt;Tag/&gt;\` </code></pre> | `<h1>text <code>&lt;Tag/&gt;</code></h1>` | `text <Tag/>` |

HTML-код, обернутый `<code>`, будет отображаться, как есть, только Vue не будет анализировать HTML-код, который не обернут.

::: tip

Вывод HTML выполняется с помощью [markdown-it](https://github.com/markdown-it/markdown-it), тогда как заголовки анализируются VuePress и используются для [Боковой панели](../theme/default-theme-config.md#боковая-панель) и заголовок документа.
:::

## Использование препроцессоров

VuePress имеет встроенный конфигурационный пакет для следующих препроцессоров: `sass`,` scss`, `less`, `stylus` и `pug`. Все, что вам нужно сделать, это установить соответствующие зависимости. Например, чтобы включить `sass`, установите в своем проекте:
 
``` bash
yarn add -D sass-loader node-sass
```

Теперь вы можете использовать в Markdown компоненты и темы:

``` vue
<style lang="sass">
.title
  font-size: 20px
</style>
```

Использование `<template lang="pug">` требует установки `pug` и `pug-plain-loader`:

``` bash
yarn add -D pug pug-plain-loader
```

::: tip
Если вы используете Stylus, вам не нужно устанавливать `stylus` и `stylus-loader` в вашем проекте, потому что VuePress использует Stylus для внутреннего использования.
  
Для препроцессоров, которые не имеют встроенной поддержки конфигурации webpack, вам необходимо [расширить внутреннюю конфигурацию webpack](../config/README.md#configurewebpack) в дополнение к установке необходимых зависимостей.
:::

## Хостинг скриптов и стилей

Иногда вам может понадобиться применить некоторые JavaScript или CSS только к текущей странице. В этих случаях вы можете напрямую записывать блоки корневого уровня `<script>` или `<style>` в файл Markdown, и они будут выведены из сгенерированного HTML и использованы, как `<script>` и `<style>` блоки для сгенерированного компонента Vue.

<p class="demo" :class="$style.example"></p>

<style module>
.example {
  color: #41b883;
}
</style>

<script>
export default {
  props: ['slot-key'],
  mounted () {
    document.querySelector(`.${this.$style.example}`)
      .textContent = 'Это отобразится встроенным скриптом и оформится встроенным CSS'
  }
}
</script>

## Встроенные компоненты

### OutboundLink <Badge text="stable"/>

Он (<OutboundLink />) используется для указания внешней ссылки. В VuePress этим компонентом оформляются все внешние ссылки.

### ClientOnly <Badge text="stable"/>

Смотрите [Ограничения доступа API браузера](#ограничения-доступа-api-браузера).

### Content <Badge text="1.0.0+"/>

- **Свойства**:

    - `pageKey` - string, ключ хеша [page](./global-computed.md#page), по умолчанию используется ключ текущей страницы.
    - `slotKey` - string, ключ [слота разметки](./markdown-slot.md), по умолчанию [слот по умолчанию](./markdown-slot.md#содержание-слота-по-умолчанию).

- **Использование**：   
   
Укажите определенный слот для конкретной страницы (.md) для рендеринга. Это будет очень полезно, если вы используете [Пользовательский макет](../theme/default-theme-config.md#пользовательский-макет-для-определенных-страниц) или [Разрабатываете тему](../theme/writing-a-theme.md)

``` vue
<Content/>
```

**Смотрите также:** 

- [Глобальные вычисления > $page](./global-computed.md#page)
- [Слот разметки](./markdown-slot.md)
- [Написание темы > Содержание](../theme/writing-a-theme.md#содержание)

  
### Badge <Badge text="beta" type="warn"/> <Badge text="0.10.1+"/> <Badge text="default theme"/>

- **Свойства**:

   - `text` - string
   - `type` - string, необязательное значение: `"tip"|"warn"|"error"`, по умолчанию `"tip"`.
   - `vertical` - string, необязательное значение: `"top"|"middle"`, по умолчанию `"top"`.

- **Использование**:

Вы можете использовать этот компонент в заголовке, чтобы добавить некоторый статус для некоторого API:
   
``` md
### Badge <Badge text="beta" type="warn"/> <Badge text="0.10.1+"/> <Badge text="default theme"/>
```   

**Смотрите также:** 

- [Использование компонентов в заголовках](#использование-компонентов-в-заголовках)
